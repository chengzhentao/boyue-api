"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[532],{40234:function(oe,U,n){n.r(U),n.d(U,{default:function(){return Me}});var z=n(5574),P=n.n(z),A=n(43285),l=n(1413),s=n(67294),j=n(42110),Z=n(91146),K=function(u,t){return s.createElement(Z.Z,(0,l.Z)((0,l.Z)({},u),{},{ref:t,icon:j.Z}))},M=s.forwardRef(K),G=M,O=n(90930),Q=n(97821),_=n(34994),$=n(97685),F=n(91),Y=n(21770),S=n(53025),m=n(55241),g=n(97435),h=n(24798),e=n(85893),ne=["fieldProps","proFieldProps"],le=["fieldProps","proFieldProps"],W="text",ae=function(u){var t=u.fieldProps,p=u.proFieldProps,i=(0,F.Z)(u,ne);return(0,e.jsx)(h.Z,(0,l.Z)({valueType:W,fieldProps:t,filedConfig:{valueType:W},proFieldProps:p},i))},ie=function(u){var t=(0,Y.Z)(u.open||!1,{value:u.open,onChange:u.onOpenChange}),p=(0,$.Z)(t,2),i=p[0],f=p[1];return(0,e.jsx)(S.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(b){var E,I=b.getFieldValue(u.name||[]);return(0,e.jsx)(m.Z,(0,l.Z)((0,l.Z)({getPopupContainer:function(o){return o&&o.parentNode?o.parentNode:o},onOpenChange:function(o){return f(o)},content:(0,e.jsxs)("div",{style:{padding:"4px 0"},children:[(E=u.statusRender)===null||E===void 0?void 0:E.call(u,I),u.strengthText?(0,e.jsx)("div",{style:{marginTop:10},children:(0,e.jsx)("span",{children:u.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},u.popoverProps),{},{open:i,children:u.children}))}})},de=function(u){var t=u.fieldProps,p=u.proFieldProps,i=(0,F.Z)(u,le),f=(0,s.useState)(!1),B=(0,$.Z)(f,2),b=B[0],E=B[1];return t!=null&&t.statusRender&&i.name?(0,e.jsx)(ie,{name:i.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:b,onOpenChange:E,children:(0,e.jsx)("div",{children:(0,e.jsx)(h.Z,(0,l.Z)({valueType:"password",fieldProps:(0,l.Z)((0,l.Z)({},(0,g.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(T){var o;t==null||(o=t.onBlur)===null||o===void 0||o.call(t,T),E(!1)},onClick:function(T){var o;t==null||(o=t.onClick)===null||o===void 0||o.call(t,T),E(!0)}}),proFieldProps:p,filedConfig:{valueType:W}},i))})}):(0,e.jsx)(h.Z,(0,l.Z)({valueType:"password",fieldProps:t,proFieldProps:p,filedConfig:{valueType:W}},i))},H=ae;H.Password=de,H.displayName="ProFormComponent";var x=H,se=["fieldProps","min","proFieldProps","max"],pe=function(u,t){var p=u.fieldProps,i=u.min,f=u.proFieldProps,B=u.max,b=(0,F.Z)(u,se);return(0,e.jsx)(h.Z,(0,l.Z)({valueType:"digit",fieldProps:(0,l.Z)({min:i,max:B},p),ref:t,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:f},b))},ce=s.forwardRef(pe),V=ce,w=n(66758),ve=["proFieldProps","fieldProps"],J="date",me=s.forwardRef(function(a,u){var t=a.proFieldProps,p=a.fieldProps,i=(0,F.Z)(a,ve),f=(0,s.useContext)(w.Z);return(0,e.jsx)(h.Z,(0,l.Z)({ref:u,valueType:J,fieldProps:(0,l.Z)({getPopupContainer:f.getPopupContainer},p),proFieldProps:t,filedConfig:{valueType:J,customLightMode:!0}},i))}),Pe=me,fe=["proFieldProps","fieldProps"],X="dateMonth",he=s.forwardRef(function(a,u){var t=a.proFieldProps,p=a.fieldProps,i=(0,F.Z)(a,fe),f=(0,s.useContext)(w.Z);return(0,e.jsx)(h.Z,(0,l.Z)({ref:u,valueType:X,fieldProps:(0,l.Z)({getPopupContainer:f.getPopupContainer},p),proFieldProps:t,filedConfig:{valueType:X,customLightMode:!0}},i))}),Fe=he,xe=["fieldProps"],q="dateQuarter",ge=s.forwardRef(function(a,u){var t=a.fieldProps,p=(0,F.Z)(a,xe),i=(0,s.useContext)(w.Z);return(0,e.jsx)(h.Z,(0,l.Z)({ref:u,valueType:q,fieldProps:(0,l.Z)({getPopupContainer:i.getPopupContainer},t),filedConfig:{valueType:q,customLightMode:!0}},p))}),Ce=ge,Ee=["proFieldProps","fieldProps"],ee="dateWeek",ye=s.forwardRef(function(a,u){var t=a.proFieldProps,p=a.fieldProps,i=(0,F.Z)(a,Ee),f=(0,s.useContext)(w.Z);return(0,e.jsx)(h.Z,(0,l.Z)({ref:u,valueType:ee,fieldProps:(0,l.Z)({getPopupContainer:f.getPopupContainer},p),proFieldProps:t,filedConfig:{valueType:ee,customLightMode:!0}},i))}),Be=ye,Te=["proFieldProps","fieldProps"],re="dateYear",je=s.forwardRef(function(a,u){var t=a.proFieldProps,p=a.fieldProps,i=(0,F.Z)(a,Te),f=(0,s.useContext)(w.Z);return(0,e.jsx)(h.Z,(0,l.Z)({ref:u,valueType:re,fieldProps:(0,l.Z)({getPopupContainer:f.getPopupContainer},p),proFieldProps:t,filedConfig:{valueType:re,customLightMode:!0}},i))}),Ze=je,R=Pe;R.Week=Be,R.Month=Fe,R.Quarter=Ce,R.Year=Ze,R.displayName="ProFormComponent";var te=R,De=n(55136),D=n(2453),be=n(86738),Ae=n(14726),_e=n(28248),Re=function(){var u=(0,s.useState)(1),t=P()(u,2),p=t[0],i=t[1],f=(0,s.useState)(10),B=P()(f,2),b=B[0],E=B[1],I=(0,s.useState)({open:!1,edit:!1}),T=P()(I,2),o=T[0],L=T[1],Oe=(0,s.useState)(),ue=P()(Oe,2),r=ue[0],N=ue[1],k=(0,s.useRef)(),Se=function(d){return(0,A.lA)({id:d}).then(function(c){N(c.data),L({open:!0,edit:!1})})},we=function(d){return(0,A.$c)({id:d}).then(function(c){var v;c.msg?D.ZP.error(c.msg):D.ZP.success("\u5220\u9664\u6210\u529F"),(v=k.current)===null||v===void 0||v.reload()}).catch(function(c){var v;console.log(c),D.ZP.error("\u5220\u9664\u8BA2\u5355\u5931\u8D25"),(v=k.current)===null||v===void 0||v.reload()})},Ie=function(d){if(d.details.length===0){D.ZP.error("\u8BF7\u6DFB\u52A0\u7EF4\u4FEE\u660E\u7EC6");return}return(0,A.a1)(d).then(function(c){var v;c.msg?D.ZP.error(c.msg):D.ZP.success("\u64CD\u4F5C\u6210\u529F"),L({open:!1,edit:!1}),N(void 0),(v=k.current)===null||v===void 0||v.reload()}).catch(function(c){var v;console.log(c),D.ZP.error("\u4FDD\u5B58\u8BA2\u5355\u5931\u8D25"),(v=k.current)===null||v===void 0||v.reload()})},ke=[{title:"\u7EF4\u4FEE\u5355\u53F7",dataIndex:"orderNo",search:!0},{title:"\u5BA2\u6237\u540D\u79F0",dataIndex:"partnerName",search:!0},{title:"\u5BA2\u6237\u7535\u8BDD",dataIndex:"phone",search:!0},{title:"\u8F66\u724C\u53F7",dataIndex:"carNo",search:!0},{title:"\u8FDB\u5382\u65E5\u671F",dataIndex:"inTime",search:!1},{title:"\u51FA\u573A\u65E5\u671F",dataIndex:"inTime",search:!1},{title:"\u7EF4\u4FEE\u91D1\u989D",dataIndex:"totalMoney",search:!1},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(d,c){return[(0,e.jsx)("a",{onClick:function(){var C;Se((C=c.id)!==null&&C!==void 0?C:0)},children:"\u67E5\u770B\u660E\u7EC6"},c.id+"edit"),(0,e.jsx)(be.Z,{title:"\u4F60\u786E\u5B9A\u5220\u9664\u5417\uFF0C\u5220\u9664\u540E\u6570\u636E\u5C06\u4E0D\u53EF\u6062\u590D?",onConfirm:function(){var C;return we((C=c.id)!==null&&C!==void 0?C:0)},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,e.jsx)("a",{children:" \u5220\u9664"},c.id+"\u5220\u9664")},c.id)]}}],Ue=function(d){var c,v;return i((c=d==null?void 0:d.current)!==null&&c!==void 0?c:1),E((v=d==null?void 0:d.pageSize)!==null&&v!==void 0?v:10),(0,A.pb)(d).then(function(C){return{data:C.data.records,success:!0,total:C.data.total}})};return(0,e.jsxs)(O._z,{children:[(0,e.jsx)(Q.Z,{request:function(d){return Ue(d)},actionRef:k,pagination:{pageSize:b,current:p},columns:ke,rowKey:function(d){return d.id},toolBarRender:function(){return[(0,e.jsxs)(Ae.ZP,{type:"primary",onClick:function(){N(void 0),L({open:!0,edit:!0})},children:[(0,e.jsx)(G,{})," \u65B0\u589E\u5355\u53F7"]},"primary")]}}),(0,e.jsx)(_e.Z,{open:o.open,onCancel:function(){N(void 0),L({open:!1,edit:!1})},destroyOnClose:!0,footer:null,width:1200,children:(0,e.jsxs)(_.A,{layout:"vertical",grid:!0,rowProps:{gutter:[16,0]},submitter:o.edit?{}:!1,onFinish:function(d){return Ie(d)},children:[(0,e.jsx)(x,{colProps:{md:12,xl:8},name:"partnerName",label:"\u5BA2\u6237\u540D\u79F0",width:"md",tooltip:"\u8BF7\u8F93\u5165\u5BA2\u6237\u540D\u79F0",disabled:!o.edit,rules:[{required:!0}],initialValue:r&&(r==null?void 0:r.partnerName)}),(0,e.jsx)(x,{colProps:{md:12,xl:8},name:"phone",label:"\u5BA2\u6237\u624B\u673A\u53F7",width:"md",tooltip:"\u8BF7\u8F93\u5165\u7B26\u5408\u89C4\u8303\u7684\u624B\u673A\u53F7",disabled:!o.edit,initialValue:r&&(r==null?void 0:r.phone)}),(0,e.jsx)(V,{colProps:{md:12,xl:8},name:"length",label:"\u8FDB\u5382\u91CC\u7A0B",width:"md",tooltip:"\u8FDB\u5382\u91CC\u7A0B",disabled:!o.edit,initialValue:r&&(r==null?void 0:r.length)}),(0,e.jsx)(x,{colProps:{md:12,xl:8},name:"carNo",label:"\u8F66\u724C\u53F7",width:"md",tooltip:"\u8BF7\u8F93\u5165\u8F66\u724C\u53F7",rules:[{required:!0}],disabled:!o.edit,initialValue:r&&(r==null?void 0:r.carNo)}),(0,e.jsx)(x,{colProps:{md:12,xl:8},name:"carType",label:"\u8F66\u8F86\u7C7B\u578B",width:"md",tooltip:"\u8BF7\u8F93\u5165\u8F66\u724C\u53F7",rules:[{required:!0}],disabled:!o.edit,initialValue:r&&(r==null?void 0:r.carType)}),(0,e.jsx)(x,{colProps:{md:12,xl:8},name:"maintainType",label:"\u7EF4\u4FEE\u7C7B\u578B",width:"md",tooltip:"\u8BF7\u8F93\u5165\u7EF4\u4FEE\u7C7B\u578B",disabled:!o.edit,initialValue:r&&(r==null?void 0:r.maintainType)}),(0,e.jsx)(x,{colProps:{md:12,xl:8},name:"receiveUser",label:"\u63A5\u8F66\u4EBA",width:"md",tooltip:"\u8BF7\u8F93\u5165\u8F66\u724C\u53F7",disabled:!o.edit,initialValue:r&&(r==null?void 0:r.receiveUser)}),(0,e.jsx)(x,{colProps:{md:12,xl:8},name:"maintainUser",label:"\u7EF4\u4FEE\u4EBA\u5458",width:"md",tooltip:"\u8BF7\u8F93\u5165\u7EF4\u4FEE\u4EBA\u5458",disabled:!o.edit,initialValue:r&&(r==null?void 0:r.maintainUser)}),(0,e.jsx)(x,{colProps:{md:12,xl:8},name:"operatorUser",label:"\u64CD\u4F5C\u4EBA\u5458",width:"md",tooltip:"\u8BF7\u8F93\u5165\u8F66\u724C\u53F7",disabled:!o.edit,initialValue:r&&(r==null?void 0:r.operatorUser)}),(0,e.jsx)(te,{colProps:{md:12,xl:8},name:"inTime",label:"\u5165\u573A\u65F6\u95F4",width:"md",placeholder:"\u8BF7\u9009\u62E9",tooltip:"\u8BF7\u9009\u62E9\u5165\u573A\u65F6\u95F4",rules:[{required:!0}],disabled:!o.edit,initialValue:r&&(r==null?void 0:r.inTime)}),(0,e.jsx)(te,{colProps:{md:12,xl:8},name:"outTime",label:"\u51FA\u573A\u65F6\u95F4",width:"md",tooltip:"\u8BF7\u9009\u62E9\u51FA\u573A\u65F6\u95F4",placeholder:"\u8BF7\u9009\u62E9",rules:[{required:!0}],disabled:!o.edit,initialValue:r&&(r==null?void 0:r.outTime)}),(0,e.jsx)(x,{colProps:{md:12,xl:8},name:"orderNo",label:"\u7EF4\u4FEE\u5355\u53F7",width:"md",tooltip:"\u7CFB\u7EDF\u9ED8\u8BA4",disabled:!0,placeholder:"\u7CFB\u7EDF\u9ED8\u8BA4",initialValue:r&&(r==null?void 0:r.orderNo)}),(0,e.jsx)(De.u,{name:"details",initialValue:r&&r.details,creatorButtonProps:o.edit?{position:"bottom",creatorButtonText:"\u7EF4\u4FEE\u660E\u7EC6"}:!1,copyIconProps:o.edit?{}:!1,deleteIconProps:o.edit?{}:!1,children:(0,e.jsxs)(_.A.Group,{children:[(0,e.jsx)(x,{colProps:{md:8,xl:5},name:"name",label:"\u7EF4\u4FEE\u9879\u76EE",width:"md",tooltip:"\u7CFB\u7EDF\u9ED8\u8BA4",placeholder:"\u9879\u76EE\u540D\u79F0",disabled:!o.edit,rules:[{required:!0,max:50,message:"\u8BF7\u5C11\u4E8E50\u4E2A\u6C49\u5B57"}]}),(0,e.jsx)(V,{colProps:{md:4,xl:2},name:"number",label:"\u6570\u91CF",width:"md",tooltip:"\u8F93\u5165\u6570\u5B57\u7C7B\u578B",placeholder:"\u6570\u91CF",disabled:!o.edit,rules:[{required:!0}]}),(0,e.jsx)(x,{colProps:{md:4,xl:2},name:"unit",label:"\u5355\u4F4D",width:"md",tooltip:"\u5355\u4F4D",placeholder:"\u6570\u91CF",disabled:!o.edit,rules:[{required:!0,max:10,message:"\u8BF7\u5C11\u4E8E10\u4E2A\u6C49\u5B57"}]}),(0,e.jsx)(V,{colProps:{md:6,xl:2},name:"price",label:"\u4EF7\u683C",width:"md",tooltip:"\u8F93\u5165\u6570\u5B57\u7C7B\u578B",placeholder:"\u4EF7\u683C",disabled:!o.edit,rules:[{required:!0}]}),(0,e.jsx)(V,{colProps:{md:6,xl:2},name:"total",label:"\u91D1\u989D",width:"md",tooltip:"",placeholder:"\u91D1\u989D",disabled:!o.edit,rules:[{required:!0}]}),(0,e.jsx)(x,{colProps:{md:8,xl:10},name:"remark",label:"\u5907\u6CE8",width:"md",tooltip:"\u5907\u6CE8",placeholder:"\u5907\u6CE8",disabled:!o.edit,rules:[{max:120,message:"\u8BF7\u5C11\u4E8E120\u4E2A\u6C49\u5B57"}]})]})})]})})]})},Me=Re},43285:function(oe,U,n){n.d(U,{$c:function(){return $},a1:function(){return Q},lA:function(){return G},ll:function(){return Y},pb:function(){return K}});var z=n(15009),P=n.n(z),A=n(97857),l=n.n(A),s=n(99289),j=n.n(s),Z=n(88275);function K(m){return M.apply(this,arguments)}function M(){return M=j()(P()().mark(function m(g){return P()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.request)("/api/order/list",{method:"GET",params:l()({},g||{})}));case 1:case"end":return e.stop()}},m)})),M.apply(this,arguments)}function G(m){return O.apply(this,arguments)}function O(){return O=j()(P()().mark(function m(g){return P()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.request)("/api/order/detail",{method:"GET",params:l()({},g||{})}));case 1:case"end":return e.stop()}},m)})),O.apply(this,arguments)}function Q(m){return _.apply(this,arguments)}function _(){return _=j()(P()().mark(function m(g){return P()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.request)("/api/order/save",{method:"post",data:g}));case 1:case"end":return e.stop()}},m)})),_.apply(this,arguments)}function $(m){return F.apply(this,arguments)}function F(){return F=j()(P()().mark(function m(g){return P()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.request)("/api/order/delete",{method:"post",data:g}));case 1:case"end":return e.stop()}},m)})),F.apply(this,arguments)}function Y(m){return S.apply(this,arguments)}function S(){return S=j()(P()().mark(function m(g){return P()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.request)("/api/detail/list",{method:"GET",params:l()({},g||{})}));case 1:case"end":return e.stop()}},m)})),S.apply(this,arguments)}}}]);
